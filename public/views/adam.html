<!DOCTYPE html>
<html lang="en">
    <head>
        <title>adam optimizer - visNLP</title>
        <link rel="stylesheet" href="../style.css"/>
        <script src="/public/libs/plotly.min.js"></script>
        <script src="/public/scripts/surfaceplot.js"></script>
    </head>
    <body>
        <div id="navbar">
            <button class="navelement" onclick="window.location='/'"     ><h1>home</h1></button>
            <button class="navelement" onclick="window.location='/intro'"><h1>overview</h1></button>
            <button class="navelement" onclick="window.location='/w2v'"  ><h1>word2vec</h1></button>
            <button class="navelement" onclick="window.location='/s2v'"  ><h1>sen2vec</h1></button>
            <button class="navelement" onclick="window.location='/p2v'"  ><h1>para2vec</h1></button>
            <button class="navelement" onclick="window.location='/adam'" ><h1>adam optimizer</h1></button>
            <button class="navelement" onclick="window.location='/song'" ><h1>song2vec</h1></button>
            <button class="navelement" onclick="window.location='/news'" ><h1>news2vec</h1></button>
        </div>
        <div id="restofpage">

            <div class="page-title">Adam optimizer overview page</div>

            <button id="navaadam"  onclick="window.location='/public/views/adamstep.html'" >
                <h1>Adam - Step by Step</h1>
            </button>

            <h2 style="padding: 2%">TODO: Adam Overview + Diagram</h2>

            <div style="height:3vh;"></div>

            <h2 style="padding: 2%">Demo: points moving on random surface with Plotly:</h2>

            <div class="wrapper">
                <div id="chart"></div>

                <button id="play-button">Play</button>
                <button id="stop-button">Stop</button>

                <script>

                    Plotly.newPlot('chart', getNewData(), getScaleLayout());

                    var originalData = [getSurface()];
                    var originalLayout = [getScaleLayout()];

                    var frames = [
                        {data: originalData.concat([{x: [1], y: [2], z: [1.3]}]), layout: originalLayout.concat([{title: "Frame 1"}])},
                        {data: originalData.concat([{x: [2], y: [3], z: [1.1]}]), layout: originalLayout.concat([{title: "Frame 2"}])}
                    ];

                    document.getElementById("play-button").onclick = function() {
                        var i = 0;
                        function animate() {
                            Plotly.animate('chart', frames[i], {
                                transition: {
                                    duration: 2000,
                                    easing: 'linear'
                                },
                                frame: {
                                    duration: 300
                                }
                                });
                                i = (i + 1) % frames.length;
                            }
                        animate();
                        animationInterval = setInterval(animate, 500);
                        Plotly.relayout('chart', {dragmode: 'turntable'});
                    };

                    document.getElementById("stop-button").onclick = function() {
                        clearInterval(animationInterval);
                    };

                </script>
            </div>

            <h2 style="padding: 2%">TODO - integrate the real loss data to plot</h2>

        </div>
        <script src="../scripts.js"></script>
    </body>
</html>